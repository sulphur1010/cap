%table.event_teaser
	%tr
		%td{:style => 'width: 450px'}
			%h5.event_title
				= link_to teaser.title, event_path(teaser)
				- if teaser.type
					%span.event_type{ :class => "event_type_#{teaser.type.downcase.gsub(" ", "_")}"}
						= teaser.type
			- if teaser.celebrants.count > 0 || teaser.speakers.count > 0
				.event_users
					- if teaser.celebrants.count > 0
						.event_celebrants
							Celebrants:
							= teaser.celebrants.order('last_name asc').collect { |c| link_to c.full_name, user_path(c) }.join(", ").html_safe
					- if teaser.speakers.count > 0
						.event_speakers
							Speakers:
							= teaser.speakers.order('last_name asc').collect { |c| link_to c.full_name, user_path(c) }.join(", ").html_safe
			.event.teaser= strip_tags(teaser.teaser) rescue ""
		%td.event_time{:style => 'width: 100px'}
			= teaser.short_start
			%br
			.event_about_time
				= teaser.duration_in_words
		%td{:style => 'width: 40px'}
			.rsvp
				= link_to "VIEW", event_path(teaser)
			/
				- if teaser.attendees.include?(current_user)
					.unrsvp
						= link_to 'UnRSVP', unrsvp_event_url(teaser), :method => :post
				- else
					- if teaser.spots_left > 0
						.rsvp
							= link_to "RSVP", rsvp_event_url(teaser), :method => :post
